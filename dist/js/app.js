const app=function(){"use strict";const e=()=>{$(document).on("click",'[data-entity="add-favorite"]',(function(e){e.preventDefault();const t=$(this),i=t.data("item");let o="add";t.hasClass("active")?(t.removeClass("active"),o="remove"):t.addClass("active"),$.post("/local/ajax/favorite.php",{ID:i,ACTION:o,QUANTITY:1},(function(e){a(e)}))})),$(document).on("click",'[data-entity="remove-favorite"]',(function(e){e.preventDefault();const a=$(this).data("item");$.post("/local/ajax/favorite.page.php",{ID:a,ACTION:"remove"},(function(e){t(e)}))}))},t=e=>{window.location.reload()},a=e=>{},i=e=>{$(".modal").modal("hide"),$(e).modal("show")},o=()=>{$('[data="select-city"]').on("change",(function(){window.location.href=$(this).val()}))};return{init:function(){e(),$.validator.setDefaults({errorClass:"input-errortext",errorElement:"span",validClass:""}),$("form[data-entity='form-consult']").validate({rules:{NAME:"required",EMAIL:{required:!0,email:!0}},messages:{NAME:"Р’РІРµРґРёС‚Рµ РІР°С€Рµ РёРјСЏ",EMAIL:"Р’РІРµРґРёС‚Рµ РІР°С€ email"},submitHandler:function(e){$.post("/local/ajax/form.consult.php",$(e).serialize(),(function(t){$(e).trigger("reset"),i("#popup_success")}))}}),$("form[data-entity='form-feedback']").validate({rules:{NAME:"required",PHONE:"required",EMAIL:{required:!0,email:!0}},messages:{NAME:"Р’РІРµРґРёС‚Рµ РІР°С€Рµ РёРјСЏ",EMAIL:"Р’РІРµРґРёС‚Рµ РІР°С€ email",PHONE:"Р’РІРµРґРёС‚Рµ РІР°С€ С‚РµР»РµС„РѕРЅ"},submitHandler:function(e){$.post("/local/ajax/form.feedback.php",$(e).serialize(),(function(t){$(e).trigger("reset"),i("#popup_success")}))}}),o()}}}();$(document).ready((function(){app.init()}));